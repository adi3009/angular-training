<!DOCTYPE html>
<html>
<head>
    <script type="text/javascript" src="http://sukima.github.com/jasmine-all/jasmine-all-min.js"></script>
    <script>
        var _total = 0;
        var scan = function (item) {
            _total += 50;
        }

        function total() {
            return _total;
        }
    </script>
    <script>
        describe("sum", function () {
            it("should correctly add two numbers", function () {
                expect(1 + 1).toEqual(2);
            });
        });

        describe("cart total", function () {
            beforeEach(function () {
                _total = 0;
            });

            it("returns 0", function () {
                expect(total()).toEqual(0);
            });

            it("is 50 with one Kiwi", function () {
                scan('Kiwi');
                expect(total()).toEqual(50);
            });

            it("is 100 with two Kiwis", function () {
                scan('Kiwi');
                scan('Kiwi');
                expect(total()).toEqual(100);
            });
        });
    </script>
</head>
</html>